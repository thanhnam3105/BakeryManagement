(function(n){function t(n){n.hooks.drawSeries.push(function(n,t,i){function o(n,r,u,f,e){var p=n.points,k=n.pointsize,it=null,rt=null,nt=0,d=!0,g,tt,y;for(i.dashes.dashLength[0]?(g=i.dashes.dashLength[0],tt=i.dashes.dashLength[1]?i.dashes.dashLength[1]:g):tt=g=i.dashes.dashLength,t.beginPath(),y=k;y<p.length;y+=k){var o=p[y-k],s=p[y-k+1],h=p[y],c=p[y+1];if(o!=null&&h!=null){if(s<=c&&s<e.min){if(c<e.min)continue;o=(e.min-s)/(c-s)*(h-o)+o,s=e.min}else if(c<=s&&c<e.min){if(s<e.min)continue;h=(e.min-s)/(c-s)*(h-o)+o,c=e.min}if(s>=c&&s>e.max){if(c>e.max)continue;o=(e.max-s)/(c-s)*(h-o)+o,s=e.max}else if(c>=s&&c>e.max){if(s>e.max)continue;h=(e.max-s)/(c-s)*(h-o)+o,c=e.max}if(o<=h&&o<f.min){if(h<f.min)continue;s=(f.min-o)/(h-o)*(c-s)+s,o=f.min}else if(h<=o&&h<f.min){if(o<f.min)continue;c=(f.min-o)/(h-o)*(c-s)+s,h=f.min}if(o>=h&&o>f.max){if(h>f.max)continue;s=(f.max-o)/(h-o)*(c-s)+s,o=f.max}else if(h>=o&&h>f.max){if(o>f.max)continue;c=(f.max-o)/(h-o)*(c-s)+s,h=f.max}(o!=it||s!=rt)&&t.moveTo(f.p2c(o)+r,e.p2c(s)+u);var a=f.p2c(o)+r,v=e.p2c(s)+u,w=f.p2c(h)+r,b=e.p2c(c)+u,l;function ut(n){var t=Math.sqrt(Math.pow(w-a,2)+Math.pow(b-v,2)),i,r;return t<=n?{deltaX:w-a,deltaY:b-v,distance:t,remainder:n-t}:(i=w>a?1:-1,r=b>v?1:-1,{deltaX:i*Math.sqrt(Math.pow(n,2)/(1+Math.pow((b-v)/(w-a),2))),deltaY:r*Math.sqrt(Math.pow(n,2)-Math.pow(n,2)/(1+Math.pow((b-v)/(w-a),2))),distance:n,remainder:0})}do l=ut(nt>0?nt:d?g:tt),(l.deltaX!=0||l.deltaY!=0)&&(d?t.lineTo(a+l.deltaX,v+l.deltaY):t.moveTo(a+l.deltaX,v+l.deltaY)),d=!d,nt=l.remainder,a+=l.deltaX,v+=l.deltaY;while(l.distance>0);it=h,rt=c}}t.stroke()}var e,r,u,f;i.dashes.show&&(e=n.getPlotOffset(),t.save(),t.translate(e.left,e.top),t.lineJoin="round",r=i.dashes.lineWidth,u=i.shadowSize,r>0&&u>0&&(t.lineWidth=u,t.strokeStyle="rgba(0,0,0,0.1)",f=Math.PI/18,o(i.datapoints,Math.sin(f)*(r/2+u/2),Math.cos(f)*(r/2+u/2),i.xaxis,i.yaxis),t.lineWidth=u/2,o(i.datapoints,Math.sin(f)*(r/2+u/4),Math.cos(f)*(r/2+u/4),i.xaxis,i.yaxis)),t.lineWidth=r,t.strokeStyle=i.color,r>0&&o(i.datapoints,0,0,i.xaxis,i.yaxis),t.restore())})}n.plot.plugins.push({init:t,options:{series:{dashes:{show:!1,lineWidth:2,dashLength:10}}},name:"dashes",version:"0.1b"})})(jQuery);