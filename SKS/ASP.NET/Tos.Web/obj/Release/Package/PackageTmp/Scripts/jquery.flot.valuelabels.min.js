(function(n){function i(t){t.hooks.draw.push(function(t,i){n.each(t.getData(),function(n,r){var f,e,h,u,o,s,v,y;if(r.valueLabels.show){var g=r.valueLabels.showLastValue,l=r.valueLabels.showAsHtml,nt=r.valueLabels.plotAxis,tt=r.valueLabels.labelFormatter,c=r.valueLabels.fontcolor,it=r.valueLabels.xoffset||0,rt=r.valueLabels.yoffset||0,ut=r.valueLabels.align,p=r.valueLabels.font,ft=r.valueLabels.hideZero,w=r.valueLabels.hideSame;r.seriesIndex=n,l&&t.getPlaceholder().find("#valueLabels"+n).remove();var a='<div id="valueLabels'+r.seriesIndex+'" class="valueLabels">',b=null,k=-1e3,d=-1e3,et=r.xaxis.options.mode=="categories";for(f=0;f<r.data.length;++f)r.data[f]===null||g&&f!=r.data.length-1||(e=r.data[f][0],h=r.data[f][1],et&&(e=r.xaxis.categories[e]),e<r.xaxis.min||e>r.xaxis.max||h<r.yaxis.min||h>r.yaxis.max)||(u=nt==="x"?e:h,u==null&&(u=""),u===0&&ft)||(r.valueLabels.valueLabelFunc&&(u=r.valueLabels.valueLabelFunc({series:r,seriesIndex:n,index:f})),u=""+u,u=tt(u),w&&u==b&&f!=r.data.length-1||(o=r.xaxis.p2c(e)+t.getPlotOffset().left,s=r.yaxis.p2c(h)-12+t.getPlotOffset().top,(!w||Math.abs(s-d)>20||k<o)&&(b=u,k=o+u.length*8,d=s,l?(v='<div style="left:'+o+"px;top:"+s+'px;" class="valueLabel',y='">'+u+"<\/div>",a+=v+"Light"+y+v+y):(x_pos=o+it,y_pos=s+6+rt,s<=0&&(y_pos=18),o>=t.width()+t.getPlotOffset().left&&(x_pos=t.width()),p&&(i.font=p),typeof c!="undefined"&&(i.fillStyle=c),i.shadowOffsetX=0,i.shadowOffsetY=0,i.shadowBlur=1.5,typeof c!="undefined"&&(i.shadowColor=c),i.textAlign=ut,i.fillText(u,x_pos,y_pos)))));l&&(a+="<\/div>",t.getPlaceholder().append(a))}})})}var t={series:{valueLabels:{show:!1,showAsHtml:!1,showLastValue:!1,labelFormatter:function(n){return n},align:"start",plotAxis:"y",hideZero:!1,hideSame:!0}}};n.plot.plugins.push({init:i,options:t,name:"valueLabels",version:"1.2"})})(jQuery);