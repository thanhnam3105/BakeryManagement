(function(n){"use strict";function h(n){return Array.prototype.slice.call(n)}function c(n,t){try{var i=h(arguments);i.shift();i.shift();n.apply(t,i)}catch(r){}}function l(){var n=document.documentElement,t=document.getElementsByTagName("body")[0],i=window.innerWidth||n.clientWidth||t.clientWidth,r=window.innerHeight||n.clientHeight||t.clientHeight;return{width:i,height:r}}function s(n,t){return{occurredOn:new Date,message:n,error:t}}function a(n,t){var r=l(),i=s(n,t);return i.url=location.href,i.env={language:navigator.language||navigator.userLanguage||navigator.browserLanguage,documentMode:document.documentMode,browserWidth:r.width,browserHeight:r.height,screenWidth:screen.width,screenHeight:screen.height,userAgent:navigator.userAgent,cookieEnabled:navigator.cookieEnabled,platform:navigator.platform},i}function y(n,t){if(n.find)return n.find(t);for(var i=0;i<n.length;i++)if(t(n[i]))return n[i]}function r(n,i){var r=i||{};e>n||(r.level=y(Object.keys(t),function(i){return t[i]===n})||"unknown",o.forEach(function(n){c(n,null,i)}))}function w(){return function(n){console[n.level]?console[n.level](n):console.log(n)}}function b(t){var i=t||{},r=i.url||"/log",u=(i.retryCount===0?0:i.retryCount||3)+1;return function(t){f.add(t);var i=f.get();f.remove();n.ajax({url:r,type:"post",data:JSON.stringify(i),contentType:"application/json; charset=UTF-8"}).then(function(){},function(){var n=[];i.forEach(function(t){t._retry=(t._retry||0)+1;t._retry<u&&n.push(t)});f.replace(n)})}}var i=new Function("return this;")(),o=[],t=Object.create(null,{all:{value:0,enumerable:!0},info:{value:1,enumerable:!0},debug:{value:2,enumerable:!0},trace:{value:3,enumerable:!0},warn:{value:4,enumerable:!0},error:{value:5,enumerable:!0},fatal:{value:6,enumerable:!0}}),v=Object.create(null,{createConsoleSink:{value:function(){return w()}},createServiceSink:{value:function(n){var t=n||opt;return b(t)}}}),e=t.all,p=Object.create(null,{sinks:{value:v},levels:{value:t},addSink:{value:function(n){o.push(n)}},level:{get:function(){return e},set:function(n){e=n}},createItem:{value:function(n,t){return s(n,t)}},createDetailItem:{value:function(n,t){return a(n,t)}},info:{value:function(n){r(t.info,n)}},debug:{value:function(n){r(t.debug,n)}},trace:{value:function(n){r(t.trace,n)}},warn:{value:function(n){r(t.warn,n)}},error:{value:function(n){r(t.error,n)}},fatal:{value:function(n){r(t.fatal,n)}}}),u="__local_logs__",f={get:function(){var t=i.localStorage,n=t.getItem(u);if(n)return JSON.parse(n)},add:function(n){var r=i.localStorage,t=f.get();t?t.push(n):t=[n];r.removeItem(u);r.setItem(u,JSON.stringify(t))},remove:function(){var n=i.localStorage;n.removeItem(u)},replace:function(n){var t=i.localStorage;t.removeItem(u);t.setItem(u,JSON.stringify(n))}};i.App=i.App||{};i.App.logger=p})(jQuery,App);
/*
//# sourceMappingURL=app.logger.min.js.map
*/