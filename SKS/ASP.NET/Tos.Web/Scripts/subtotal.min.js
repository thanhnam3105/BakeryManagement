(function(n,t,i){var r=function(n,t,i,r,u){var f=n.clone(),e;for(f.find("input, button, select").remove(),f.find("td span").text(""),k=0,klen=t.length;k<klen;k++)e=t[k],f.findP(e).text(i[e]);return f.addClass("subtotal"),f.findP(r).text(u),f};t.fn.subtotal=function(n,u){var a=t(this),at=a.closest("table"),l,ut,lt,s,o,p,ft,f,e,b,it,rt,w;if(at.each(function(n,i){return ut=t(i),l=ut.data("aw.dataTable"),l?!1:void 0}),l){var v=l.cache,vt=!1,et=function(n,t){var u=v.id(n),i,r;return(i=u.element[0].querySelector("[data-prop='"+t+"']"),!i&&u.element.length>1&&(i=u.element[1].querySelector("[data-prop='"+t+"']")),r=i.value,r&&r!=="")?r:i.innerText},yt=function(t,i){var r=et(t,n),u=et(i,n);return vt?r-u:r<u?-1:1};if(v.rowids.length===0)return;l.clear(l);v.rowids.sort(yt);for(var k=function(n){for(var i={},t=0;t<n.length;t++)i[n[t]]=0;return i},y,g,s=k(u),st,h,nt,ht,e,tt,ct,c,d=[],f=0,ot=v.rowids.length;f<ot;f++)if(st=v.rowids[f],h=v.id(st),!h.element.hasClass("subtotal")){if(w=2,h.element.hasClass("item-tmpl")||(w=1),v.rowids.length<w)return;for(typeof y=="undefined"&&(y=h.element.findP(n).text(),g=h.element.findP(n).text()),g=h.element.findP(n).text(),y!==g&&(c=r(h.element,u,s,n,y),d.push(c),y=g,s=k(u)),nt=0,ht=u.length;nt<ht;nt++)e=u[nt],b=parseFloat(h.element.findP(e).text()),s[e]+=isNaN(b)?0:b;d.push(h.element)}for(c=h.element.clone(),c.find("input, button, select").remove(),c.find("td span").text(""),tt=0,ct=u.length;tt<ct;tt++)e=u[tt],c.findP(e).text(s[e]);c.addClass("subtotal");c.findP(n).text(y);c=r(h.element,u,s,n,y);d.push(c);lt=0;l.addRows.apply(ut,[d,function(){return d[lt++]},!1,l])}else{if(s=k(u),a.filter(".subtotal").remove(),a=a.not(".subtotal"),w=2,a.hasClass("item-tmpl")||(w=1),a.length<w)return;for(a.each(function(r,h){if(p=t(h),p.hasClass("item-tmpl")){ft=p;return}if(rt=p.findP(n).text(),r>1&&it!=rt){for(o=ft.clone(),o.find("input, button, select").remove(),f=0;f<u.length;f++)e=u[f],o.findP(e).text(s[e]);o.findP(n).text(it);o.insertBefore(p).show();o.removeClass("item-tmpl");o.addClass("subtotal");s=k(u);it=i}for(f=0;f<u.length;f++)e=u[f],b=Number(p.findP(e).text()),s[e]+=isNaN(b)?0:b;it=rt}),o=ft.clone(),o.find("input, button, select").remove(),f=0;f<u.length;f++)e=u[f],o.findP(e).text(s[e]);o.findP(n).text(rt);o.insertAfter(p).show();o.removeClass("item-tmpl");o.addClass("subtotal");s=k(u)}}})(this,jQuery);
/*
//# sourceMappingURL=subtotal.min.js.map
*/